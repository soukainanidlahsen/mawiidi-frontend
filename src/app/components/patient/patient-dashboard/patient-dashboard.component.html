<div class="dashboard-content">
    <header>
        <div class="welcome-section">
            <h1>Welcome, {{ patient?.firstName || 'Guest' }}</h1>
            <p class="subtitle">Here's your health overview</p>
        </div>
        <div class="date-section">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2">
                <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                <line x1="16" x2="16" y1="2" y2="6" />
                <line x1="8" x2="8" y1="2" y2="6" />
                <line x1="3" x2="21" y1="10" y2="10" />
            </svg>
            <span>{{ today | date:'fullDate' }}</span>
        </div>
    </header>

    <!-- Stats Cards -->
    <div class="stats-row">
        <div class="stat-card">
            <div class="stat-icon appointments">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                    <line x1="16" x2="16" y1="2" y2="6" />
                    <line x1="8" x2="8" y1="2" y2="6" />
                    <line x1="3" x2="21" y1="10" y2="10" />
                </svg>
            </div>
            <div class="stat-info">
                <span class="stat-value">{{ upcomingAppointments.length }}</span>
                <span class="stat-label">Upcoming Appointments</span>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon records">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path
                        d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z" />
                </svg>
            </div>
            <div class="stat-info">
                <span class="stat-value">5</span>
                <span class="stat-label">Medical Records</span>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon messages">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                </svg>
            </div>
            <div class="stat-info">
                <span class="stat-value">2</span>
                <span class="stat-label">New Messages</span>
            </div>
        </div>
    </div>

    <div class="dashboard-grid">
        <!-- Quick Actions -->
        <section class="card quick-actions">
            <div class="card-header">
                <h2>Quick Actions</h2>
            </div>
            <div class="action-buttons">
                <a class="action-btn" routerLink="/patient/booking">
                    <div class="action-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                            <line x1="16" x2="16" y1="2" y2="6" />
                            <line x1="8" x2="8" y1="2" y2="6" />
                            <line x1="3" x2="21" y1="10" y2="10" />
                            <path d="m9 16 2 2 4-4" />
                        </svg>
                    </div>
                    <span>Book Appointment</span>
                </a>
                <a class="action-btn" routerLink="/patient/messaging">
                    <div class="action-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                        </svg>
                    </div>
                    <span>Send Message</span>
                </a>
                <a class="action-btn" routerLink="/patient/medical-records">
                    <div class="action-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path
                                d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z" />
                        </svg>
                    </div>
                    <span>View Records</span>
                </a>
                <a class="action-btn" routerLink="/patient/complaints">
                    <div class="action-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                            <line x1="12" x2="12" y1="18" y2="12" />
                            <line x1="9" x2="15" y1="15" y2="15" />
                        </svg>
                    </div>
                    <span>File Complaint</span>
                </a>
            </div>
        </section>

        <!-- Upcoming Appointments -->
        <section class="card upcoming-appointments">
            <div class="card-header">
                <h2>Upcoming Appointments</h2>
                <a routerLink="/patient/appointments" class="view-all">View All</a>
            </div>
            <div *ngIf="isLoading" class="loading">
                <span>Loading...</span>
            </div>
            <div *ngIf="!isLoading && upcomingAppointments.length === 0" class="empty-state">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="1.5">
                    <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                    <line x1="16" x2="16" y1="2" y2="6" />
                    <line x1="8" x2="8" y1="2" y2="6" />
                    <line x1="3" x2="21" y1="10" y2="10" />
                </svg>
                <p>No upcoming appointments</p>
                <a routerLink="/patient/booking" class="btn btn-primary btn-sm">Book Now</a>
            </div>
            <div class="appointment-list" *ngIf="!isLoading && upcomingAppointments.length > 0">
                <div class="appointment-item" *ngFor="let apt of upcomingAppointments">
                    <div class="apt-date">
                        <span class="day">{{ apt.date | date:'d' }}</span>
                        <span class="month">{{ apt.date | date:'MMM' }}</span>
                    </div>
                    <div class="apt-details">
                        <h3>{{ apt.doctorName }}</h3>
                        <p class="time">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <polyline points="12 6 12 12 16 14" />
                            </svg>
                            {{ apt.time }}
                        </p>
                        <span class="status" [ngClass]="apt.status.toLowerCase()">{{ apt.status }}</span>
                    </div>
                    <div class="apt-actions">
                        <button class="btn btn-outline btn-sm">Details</button>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>